---
const { selectedPage } = Astro.props;
---

<header class="pixel-header">
  <div class="logo pixel-text">
    ğŸµ <span>FLUTE HERO</span>
  </div>

  <nav class="navbar">
    <button class="nav-btn" id="navbar-toggle" aria-label="Toggle navigation" onclick="toggleNavLinksForMobile()">
      â˜°
    </button>

    <ul class="nav-list">
      <li>
        <a href="/" class={`nav-btn ${selectedPage === 'home' ? 'active' : ''}`}>
          <span class="icon">ğŸ </span> HOME
        </a>
      </li>
      <li>
        <a href="/game" class={`nav-btn ${selectedPage === 'game' ? 'active' : ''}`}>
          <span class="icon">ğŸ®</span> GAME
        </a>
      </li>
      <li>
        <a href="/practice" class={`nav-btn ${selectedPage === 'practice' ? 'active' : ''}`}>
          <span class="icon">ğŸ“</span> PRACTICE
        </a>
      </li>
      <!-- CSS sets the line div after the third child -->
      <!-- Camera button is hidden unless its the game or pracice pages -->
      <li>
        <button id="cameraToggleBtn" class="nav-btn camera-toggle" title="Toggle Camera" style={`display: ${(selectedPage === 'game') || selectedPage === 'practice' ? '' : 'none'};`}>
          <span class="icon" style="display: block;">ğŸ“¹</span> CAMERA
        </button>
      </li>
      <li>
        <button id="visionModeToggleBtn" class="nav-btn vision-mode-toggle" title="Toggle Vision Mode" style={`display: ${(selectedPage === 'game') || selectedPage === 'practice' ? '' : 'none'};`}>
          <span class="icon" style="display: block;">ğŸµ</span>
        </button>
      </li>
      <li>
        <a href="/about" class={`nav-btn ${selectedPage === 'about' ? 'active' : ''}`}>
          <span class="icon">ğŸ“Š</span> ABOUT
        </a>
      </li>
    </ul>
  </nav>
</header>

<script is:inline>
  function toggleNavLinksForMobile() {
    const navLinks = document.querySelector(".nav-list");
    navLinks?.classList.toggle("open");
  }
</script>


