---
/**
 * Game Settings Modal Component
 * Allows player to customize game settings including vision mode, character, and theme
 */

import CharacterPreview from "./CharacterPreview.astro";
import ThemePreview from "./ThemePreview.astro";
import FluteTestCard from "./FluteTestCard.astro";

---

<div id="gameSettingsModal" class="game-settings-modal hidden">
    <div class="game-settings-content">
        <div class="settings-header">
            <span class="settings-gear">‚öôÔ∏è</span>
            <h2>SETTINGS</h2>
        </div>
        
        <!-- Character Options Section -->
        <section class="settings-section">
            <h3><span class="section-icon">üé≠</span> CHARACTER:</h3>
            <div class="option-grid six-col">
                <CharacterPreview 
                    dataCharacter="Hami"
                    charDisplayName="Hamidat (me!)"
                    isSelected=true
                />
                <CharacterPreview 
                    dataCharacter="Guba"
                    charDisplayName="Guba"
                    isSelected=false
                />
                <CharacterPreview 
                    dataCharacter="Killua"
                    charDisplayName="Killua"
                    isSelected=false
                />
            </div>
        </section>

        <!-- Theme Section -->
        <section class="settings-section">
            <h3><span class="section-icon">üé®</span> THEME:</h3>
            <div id="themeOptionsContainer" class="option-grid three-col">
                <ThemePreview 
                themeName="uofa"
                themeDisplayName="U of A"
                isSelected=true
                />
                <ThemePreview 
                themeName="louvre"
                themeDisplayName="The Louvre"
                isSelected=false
                />
                <ThemePreview 
                themeName="forest"
                themeDisplayName="Forest"
                isSelected=false
                />
            </div>
        </section>

        <!-- Game Test Section -->
        <section class="settings-section" style="border-bottom: none; margin-bottom: 0; padding-bottom: 0;">
            <h3><span class="section-icon">üéÆ</span> Flute Tests:</h3>
            <div id="testOptionsContainer">
                <!-- hidden tests options that only show if in flute mode -->
            <section id="fluteTestOptions" class="option-grid four-col" style="display: none;">
                <FluteTestCard 
                    dataTest="random"
                    isSelected="true"
                    optionDisplayName="Random"
                    testIcon="üé≤"
                />

                <FluteTestCard 
                    dataTest="Hot Cross Buns"
                    isSelected="true"
                    optionDisplayName="Hot Cross Buns"
                    testIcon="üéµ"
                />

                <FluteTestCard 
                    dataTest="C Major Scale"
                    isSelected="true"
                    optionDisplayName="C Major Scale"
                    testIcon="üéµ"
                />

                <FluteTestCard 
                    dataTest="Beginner Pattern (Bb-C-D)"
                    isSelected="true"
                    optionDisplayName="Beginner Pattern (Bb-C-D)"
                    testIcon="üéµ"
                />
                </section>

                <section id="handTestOptions" style="color: #999; padding: 1rem; text-align: center;">
                    <p>Tests are only available in Flute Mode.</p>
                </section>
            </div>
        </section>

        
        <!-- Action Buttons -->
        <div class="settings-actions">
            <button id="saveGameSettings" class="settings-btn primary">SAVE</button>
            <button id="closeGameSettings" class="settings-btn secondary">CANCEL</button>
        </div>
    </div>
</div>
